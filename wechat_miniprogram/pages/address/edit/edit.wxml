<!--pages/address/edit/edit.wxml-->
<view class="edit-container">
  <form bindsubmit="saveAddress">
    <!-- 联系人信息 -->
    <view class="form-section">
      <view class="form-item">
        <text class="label">收货人</text>
        <input 
          class="input" 
          name="consignee"
          placeholder="请输入收货人姓名"
          value="{{addressData.consignee}}"
          bindinput="onFieldInput"
          data-field="consignee"
        />
      </view>
      <view class="form-item">
        <text class="label">手机号</text>
        <input 
          class="input" 
          name="phone"
          type="number"
          placeholder="请输入手机号"
          value="{{addressData.phone}}"
          bindinput="onFieldInput"
          data-field="phone"
        />
      </view>
    </view>

    <!-- 地址信息 -->
    <view class="form-section">
      <view class="form-item" bindtap="selectRegion">
        <text class="label">所在地区</text>
        <text class="region-text {{!addressData.provinceName ? 'placeholder' : ''}}">
          {{addressData.provinceName && addressData.cityName && addressData.districtName ? 
            addressData.provinceName + addressData.cityName + addressData.districtName : 
            '请选择省市区'}}
        </text>
        <text class="arrow">></text>
      </view>
      <view class="form-item">
        <text class="label">详细地址</text>
        <textarea 
          class="textarea" 
          name="detail"
          placeholder="请输入详细地址，如街道、楼牌号等"
          value="{{addressData.detail}}"
          bindinput="onFieldInput"
          data-field="detail"
          maxlength="200"
        ></textarea>
      </view>
    </view>

    <!-- 设置选项 -->
    <view class="form-section">
      <view class="form-item switch-item">
        <text class="label">设为默认地址</text>
        <switch 
          checked="{{addressData.isDefault === 1}}"
          bindchange="onDefaultChange"
        />
      </view>
    </view>

    <!-- 保存按钮 -->
    <view class="save-section">
      <button 
        class="save-btn {{!canSave ? 'disabled' : ''}}"
        form-type="submit"
      >
        {{isEdit ? '保存' : '新增'}}
      </button>
    </view>
  </form>
</view>

<!-- 地区选择器 -->
<picker 
  mode="region"
  bindchange="onRegionChange"
  value="{{region}}"
  custom-item="{{customItem}}"
>
  <view style="display: none;"></view>
</picker>
