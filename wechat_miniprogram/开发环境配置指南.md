# 微信小程序开发环境配置指南

## 🚨 网络请求域名问题解决方案

### 问题描述
```
request:fail url not in domain list
```

这个错误是因为微信小程序对网络请求有严格的域名限制，开发阶段需要关闭域名校验。

### ✅ 解决方案

#### 方案一：通过微信开发者工具设置（推荐）

1. **打开微信开发者工具**
2. **点击右上角"详情"按钮**
3. **在"本地设置"选项卡中**
4. **勾选"不校验合法域名、web-view（业务域名）、TLS 版本以及 HTTPS 证书"**

#### 方案二：通过项目配置文件
已自动配置：在 `project.config.json` 中设置 `"urlCheck": false`

### 🔧 开发环境要求

#### 后端服务状态检查
确保以下服务正在运行：
- ✅ **Spring Boot后端**: `http://localhost:8080`
- ✅ **MySQL数据库**: 端口 3306，数据库 `sky_take_out`
- ✅ **Redis缓存**: 端口 6379

#### 网络配置
- **开发环境**: `http://localhost:8080/user`
- **生产环境**: 需要配置真实域名到微信小程序后台

### 🎯 验证步骤

1. **启动后端服务**
   ```bash
   # 在IDEA中直接运行 SkyApplication.java
   ```

2. **启动MySQL和Redis**
   ```bash
   # 确保MySQL服务运行在3306端口
   # 确保Redis服务运行在6379端口
   ```

3. **重新编译小程序**
   - 在微信开发者工具中点击"编译"
   - 检查控制台是否还有网络错误

### 📋 常见问题

#### Q: 为什么会出现腾讯云域名？
A: 可能是微信开发者工具的云开发功能自动注入，忽略即可。

#### Q: 如何检查后端是否正常？
A: 访问 `http://localhost:8080/doc.html` 查看接口文档

#### Q: 生产环境如何配置？
A: 需要将实际服务器域名添加到微信小程序管理后台的合法域名列表

### 🚀 下一步

配置完成后，小程序应该能够：
- ✅ 正常获取店铺状态
- ✅ 加载商品分类
- ✅ 显示推荐菜品
- ✅ 完整的点餐流程

### 📞 技术支持

如果仍有问题，请检查：
1. 后端服务是否启动
2. 数据库连接是否正常
3. 微信开发者工具版本是否最新
